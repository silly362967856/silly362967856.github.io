<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style>
        .list-group-item {
            font-size: 40px;
        }
    </style>
    <title>Hello, world!</title>
  </head>
  <body>
    <div class="container-fluid" style="padding-top: 20px;">
<!--         <ul class="list-group">
          <li class="list-group-item" id="show1">铡美案</li>
          <li class="list-group-item">西游记</li>
          <li class="list-group-item">三国演义</li>
          <li class="list-group-item">楚剧</li>
          <li class="list-group-item">包青天</li>
        </ul> -->
        <div class="row">
          <div class="col-sm-12 show1" id="show1" data-id="1">
            <img src="/cover/1.jpg" class="img-thumbnail img-fluid" style="margin-bottom: 20px;">
          </div>
          <div class="col-sm-12 show1" id="show1" data-id="2">
            <img src="/cover/2.jpg" class="img-thumbnail img-fluid" style="margin-bottom: 20px;">
          </div>
          <div class="col-sm-12 show1" id="show1" data-id="3">
            <img src="/cover/3.jpg" class="img-thumbnail img-fluid" style="margin-bottom: 20px;">
          </div>
          <div class="col-sm-12 show1" id="show1" data-id="4">
            <img src="/cover/4.jpg" class="img-thumbnail img-fluid" style="margin-bottom: 20px;">
          </div>
          <div class="col-sm-12 show1" id="show1" data-id="5">
            <img src="/cover/5.jpg" class="img-thumbnail img-fluid" style="margin-bottom: 20px;">
          </div>
          <div class="col-sm-12 show1" id="show1" data-id="6">
            <img src="/cover/6.png" class="img-thumbnail img-fluid" style="margin-bottom: 20px;">
          </div>
          <div class="col-sm-12 show1" id="show1" data-id="7">
            <img src="/cover/7.jpeg" class="img-thumbnail img-fluid" style="margin-bottom: 20px;">
          </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <button type="button" class="btn btn-primary" id="confirm" style="width: 400px; height: 400px;">去看</button>
            </div>
        </div>
        </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
  <script>
    $(function () {
      var obj = {
        "1": {"name": "十道茶", "url": "//player.bilibili.com/player.html?aid=218831738&bvid=BV1y8411x7AU&cid=853686904&p=1"},
        "2": {"name": "何氏嫂劝姑", "url": "//player.bilibili.com/player.html?aid=42620136&bvid=BV1Jb411r7Ky&cid=74771578&p=1"},
        "3": {"name": "天仙配", "url": "//player.bilibili.com/player.html?aid=872189606&bvid=BV1LV4y1Y7DW&cid=1230938365&p=1"},
        "4": {"name": "四下河南", "url": "//player.bilibili.com/player.html?aid=42628698&bvid=BV1Hb411r7Cu&cid=74785709&p=1"},
        "5": {"name": "吴汉杀棋", "url": "//player.bilibili.com/player.html?aid=286035159&bvid=BV12f4y1y7Fj&cid=201769198&p=1"},
        "6": {"name": "狸猫换太子", "url": "//player.bilibili.com/player.html?aid=84293027&bvid=BV1X7411v7SG&cid=144185255&p=1"},
        "7": {"name": "梁山伯与祝英台", "url": "//player.bilibili.com/player.html?aid=27535727&bvid=BV1ps411P7kQ&cid=47503770&p=1"}
      }
      var video_url
      $('.show1').on('click', function(e){
        var sd = new Audio('/sound/'+ $(this).data("id") + '.m4a')
        sd.play()
        //TODO 需要button居中放大？浏览器设置默认首页？远程控制托底？
        //TODO 自动全屏，看完自动关闭页签？
        video_url = "/video.html?url=" + obj[$(this).data("id")].url + "&high_quality=1&danmaku=0"
        $('#exampleModalCenter').modal('show')
      })
      $('#confirm').on('click', function(e){
            console.log(video_url)
            var win = window.open(video_url, '_blank');
            $('#exampleModalCenter').modal('hide')
      })
    })
  </script>
</html>